# Налаштування аналітики для сайту

## Поточний стан проекту

### Технології
- **Framework**: Next.js 16.1.0
- **React**: 19.2.3
- **TypeScript**: 5.x
- **Стилізація**: Tailwind CSS 4.x
- **Анімації**: Framer Motion 12.23.26

### Структура сайту
- Головна сторінка з секціями: Hero, About, Statistics, Products, Suppliers, Gallery, Testimonials, Contact
- SEO оптимізація: структуровані дані (Schema.org), мета-теги
- Мова: українська (uk)

### Поточний стан аналітики
- ❌ Google Analytics не налаштовано
- ❌ Yandex.Metrika не налаштовано
- ❌ Facebook Pixel не налаштовано
- ✅ SEO структуровані дані налаштовані
- ✅ Sitemap та robots.txt налаштовані

---

## Рекомендовані системи аналітики

### 1. Google Analytics 4 (GA4)
**Переваги:**
- Безкоштовна
- Інтеграція з Google Search Console
- Детальна аналітика поведінки користувачів
- E-commerce трекінг
- Конверсії та цілі

**Що відстежувати:**
- Перегляди сторінок
- Час на сайті
- Глибина перегляду
- Джерела трафіку
- Конверсії (запити, дзвінки)
- Події (кліки на продукти, відкриття модальних вікон)

### 2. Yandex.Metrika
**Переваги:**
- Популярна в Україні та СНД
- Візуальні сесії (heatmaps)
- A/B тестування
- Форми та конверсії

**Що відстежувати:**
- Аналогічно до GA4
- Особливо важливо для українського ринку

### 3. Facebook Pixel (опціонально)
**Переваги:**
- Ретаргетинг для реклами
- Оптимізація рекламних кампаній

---

## План впровадження

### Крок 1: Створення компонентів аналітики
- [x] Створити компонент Google Analytics
- [x] Створити компонент Yandex.Metrika
- [x] Створити утиліти для відстеження подій

### Крок 2: Налаштування змінних оточення
Додати в `.env.local`:
```
NEXT_PUBLIC_GA_MEASUREMENT_ID=G-XXXXXXXXXX
NEXT_PUBLIC_YANDEX_METRIKA_ID=XXXXXXXX
NEXT_PUBLIC_FB_PIXEL_ID=XXXXXXXX
```

### Крок 3: Інтеграція в layout
Додати компоненти аналітики в `app/layout.tsx`

### Крок 4: Налаштування подій
Додати відстеження подій у ключові місця:
- Кліки на продукти
- Відкриття модальних вікон
- Надсилання форм
- Кліки на телефони
- Прокрутка до секцій

---

## Ключові метрики для відстеження

### Бізнес-метрики
1. **Конверсії:**
   - Запити через форму зворотного зв'язку
   - Кліки на телефони
   - Відкриття модальних вікон продуктів

2. **Продукти:**
   - Найпопулярніші продукти (кліки)
   - Час перегляду каталогу
   - Кількість переглядів кожного продукту

3. **Джерела трафіку:**
   - Органічний пошук
   - Прямі заходи
   - Реферали
   - Соціальні мережі

### Технічні метрики
1. **Продуктивність:**
   - Час завантаження сторінки
   - Time to First Byte (TTFB)
   - Largest Contentful Paint (LCP)

2. **Поведінка користувачів:**
   - Середній час на сайті
   - Глибина перегляду
   - Показник відмов
   - Прокрутка сторінки

---

## Події для відстеження

### Категорія: Products
- `product_view` - перегляд продукту
- `product_click` - клік на продукт
- `product_modal_open` - відкриття модального вікна продукту
- `product_modal_close` - закриття модального вікна

### Категорія: Contact
- `phone_click` - клік на номер телефону
- `email_click` - клік на email
- `form_submit` - надсилання форми
- `form_start` - початок заповнення форми

### Категорія: Navigation
- `section_scroll` - прокрутка до секції
- `gallery_view` - перегляд галереї
- `supplier_view` - перегляд постачальників

### Категорія: Engagement
- `video_play` - відтворення відео (якщо є)
- `image_zoom` - збільшення зображення
- `testimonial_view` - перегляд відгуків

---

## Налаштування Google Search Console

1. Створити акаунт у Google Search Console
2. Додати сайт `https://promimpeks.com`
3. Підтвердити права власності (через DNS або HTML-файл)
4. Налаштувати sitemap: `https://promimpeks.com/sitemap.xml`
5. Додати код верифікації в `lib/seo.ts` (поле `verification`)

---

## Налаштування Yandex.Webmaster

1. Створити акаунт у Yandex.Webmaster
2. Додати сайт
3. Підтвердити права власності
4. Налаштувати індексацію

---

## Рекомендації

1. **Приватність:**
   - Додати Cookie Consent (GDPR compliance)
   - Налаштувати анонімізацію IP
   - Додати політику конфіденційності

2. **Продуктивність:**
   - Використовувати Next.js Script компонент з `strategy="afterInteractive"`
   - Завантажувати скрипти асинхронно
   - Не блокувати рендеринг

3. **Тестування:**
   - Використовувати Google Tag Assistant
   - Перевіряти події в реальному часі через GA4 DebugView
   - Тестувати в режимі розробки перед деплоєм

---

## Корисні посилання

- [Google Analytics 4 Documentation](https://developers.google.com/analytics/devguides/collection/ga4)
- [Yandex.Metrika Documentation](https://yandex.ru/support/metrica/)
- [Next.js Script Optimization](https://nextjs.org/docs/app/api-reference/components/script)
- [GDPR Compliance Guide](https://gdpr.eu/)

---

## Чеклист впровадження

- [ ] Створити акаунти в GA4 та Yandex.Metrika
- [ ] Отримати ID для аналітики
- [ ] Додати змінні оточення
- [ ] Інтегрувати компоненти аналітики
- [ ] Налаштувати події
- [ ] Протестувати відстеження
- [ ] Додати Cookie Consent
- [ ] Налаштувати Google Search Console
- [ ] Налаштувати Yandex.Webmaster
- [ ] Створити політику конфіденційності
- [ ] Налаштувати цілі та конверсії
- [ ] Налаштувати звіти та дашборди

---

**Останнє оновлення:** 2024
**Версія:** 1.0
